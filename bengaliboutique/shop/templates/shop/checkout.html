{% extends 'shop/base.html' %}
{% block content %}
    <h1 class="text-3xl font-bold mb-6 bengali" data-aos="fade-up">Checkout</h1>
    <div class="flex flex-col md:flex-row gap-6">
        <div class="md:w-1/2">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow" data-aos="fade-left">
                <h2 class="text-xl font-bold mb-4">Shipping Information</h2>
                <form method="post">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label class="block">Full Name</label>
                        <input type="text" name="full_name" class="w-full p-2 border dark:bg-gray-800 dark:border-gray-600" required>
                    </div>
                    <div class="mb-4">
                        <label class="block">Email Address</label>
                        <input type="email" name="email" class="w-full p-2 border dark:bg-gray-800 dark:border-gray-600" required>
                    </div>
                    <div class="mb-4">
                        <label class="block">Phone Number</label>
                        <input type="tel" name="phone" class="w-full p-2 border dark:bg-gray-800 dark:border-gray-600" required>
                    </div>
                    <div class="mb-4">
                        <label class="block">Shipping Address</label>
                        <textarea name="shipping_address" class="w-full p-2 border dark:bg-gray-800 dark:border-gray-600" required></textarea>
                    </div>
                    <div class="mb-4">
                        <label class="block">City</label>
                        <input type="text" name="city" class="w-full p-2 border dark:bg-gray-800 dark:border-gray-600" required>
                    </div>
                    <div class="mb-4">
                        <label class="block">ZIP Code</label>
                        <input type="text" name="zip_code" class="w-full p-2 border dark:bg-gray-800 dark:border-gray-600" required>
                    </div>
                    <h2 class="text-xl font-bold mb-4">Payment Method</h2>
                    <div class="mb-4">
                        <label><input type="radio" name="payment" value="bkash" checked> bKash</label>
                        <label><input type="radio" name="payment" value="nagad"> Nagad</label>
                        <label><input type="radio" name="payment" value="cod"> Cash on Delivery</label>
                    </div>
                    <div id="bkash-instructions" class="mb-4 hidden">
                        <p>bKash Payment Instructions:</p>
                        <ol class="list-decimal ml-6">
                            <li>Go to your bKash Mobile Menu by dialing *247#</li>
                            <li>Choose "Send Money"</li>
                            <li>Enter our bKash Account Number: 01XXXXXXXXX</li>
                            <li>Enter the amount: ৳{{ total|add:100 }}</li>
                            <li>Enter a reference: your order ID</li>
                            <li>Enter your bKash PIN to confirm</li>
                        </ol>
                    </div>
                    <button type="submit" class="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600">Place Order</button>
                    <a href="{% url 'cart_detail' %}" class="text-blue-500 hover:underline ml-4">Back to Cart</a>
                </form>
            </div>
        </div>
        <div class="md:w-1/2">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow" data-aos="fade-right">
                <h2 class="text-xl font-bold mb-4">Order Summary</h2>
                <ul>
                    {% for item in cart_items %}
                        <li>{{ item.product.name }} {% if item.variant %}({{ item.variant.size }}/{{ item.variant.color }}){% endif %} x {{ item.quantity }} - ৳{{ item.total }}</li>
                    {% endfor %}
                </ul>
                <p class="mt-4">Subtotal: ৳{{ total }}</p>
                <p>Shipping: ৳100.00</p>
                <p>Tax: ৳0.00</p>
                <p class="text-xl font-bold mt-2">Total: ৳{{ total|add:100 }}</p>
            </div>
        </div>
    </div>
{% endblock %}